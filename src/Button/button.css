@import "../proto/definitions/_colors.css";
@import "../proto/definitions/_fonts.css";
@import "../proto/base.css";

.default
{
    position:           relative;
    display:            table; /* flex doesn’t work here */
    width:              auto;
    border:             none;
    padding:            0;
    background:         transparent;
    cursor:             pointer;
    text-transform:     uppercase;
    border-radius:      0;
}


.content
{
    /* Firefox doesn’t properly support flex directly
     * on button so we need to set it here
     */
    display:            flex;

    align-items:        center;
    text-align:         center;

    min-width:          9rem;
    height:             3.2rem; /************ replace with min-, or remove? */
}

.label
{
    @extend %Nessie-SemiBold;

    font-size:          1.2rem;
    line-height:        1.2rem;
    letter-spacing:     0.04rem;

    margin-top:         0.1rem;

    padding-left:       1.6rem;
    padding-right:      1.6rem;

    overflow:           hidden;
    text-overflow:      ellipsis;
    white-space:        nowrap;
}



.iconPosition__right
{
    .content
    {
        flex-direction: row-reverse;
    }

    .iconContainer
    {
        padding-right:      0.8rem;
        padding-left:       0.4rem;
    }

    .iconContainer + .label
    {
        padding-right: 0rem;
    }
}

.iconPosition__left
{
    .iconContainer
    {
        padding-right:      0.4rem;
        padding-left:       0.8rem;
    }

    .iconContainer + .label
    {
        padding-left: 0rem;
    }
}

.role__default
{
    background: var( --PC-BLUE );
    color:      var( --PC-WHITE );

    &.fakeHovered,
    &:hover
    {
        background: color( var( --PC-BLUE ) shade( 15% ) );
        color:      var( --PC-WHITE );
    }

    &:active
    {
        background: var( --PC-BLUE );
    }
}


.role__promoted
{
    background: var( --PC-GREEN );
    color:      var( --PC-WHITE );

    &.fakeHovered,
    &:hover
    {
        background: color( var( --PC-GREEN ) shade( 15% ) );
        color:      var( --PC-WHITE );
    }

    &:active
    {
        background: var( --PC-GREEN );
    }
}


.role__critical
{
    background: var( --PC-RED );
    color:      var( --PC-WHITE );

    &.fakeHovered,
    &:hover
    {
        background: color( var( --PC-RED ) shade( 15% ) );
        color:      var( --PC-WHITE );
    }

    &:active
    {
        background: var( --PC-RED );
    }
}


.role__subtle
{
    color:      var( --PC-GREY );
    background: var( --PC-WHITE );

    .content
    {
        border-color:   var( --PC-GREY );
    }

    .iconContainer
    {
        fill:           var( --PC-GREY );

        &:after
        {
            background-color: var( --PC-GREY );
        }
    }

    &:not(.fakeHovered):not(:hover):not(.disabled)
    {
        .icon
        {
            fill:                       var( --PC-GREY );
            color:                      var( --PC-GREY );
        }
    }

    &:not(.loading):matches(.fakeHovered,:hover)
    {
        color:                      var( --PC-WHITE );
        background:                 var( --PC-GREY );

        .iconContainer:after
        {
            background-color:       var( --PC-WHITE );
        }
    }

    &:active
    {
        background-color:       color( var( --PC-GREY ) tint( 13% ) );
    }

    .loadingOverlay
    {
        .spinner
        {
            border-color:           color( var( --PC-GREY ) a( 25% ) );

            &::after
            {
                border-top-color:   var( --PC-GREY );
            }
        }
    }
}


.role__control
{
    color:                      var( --GS-1 );

    &.fakeHovered,
    &:hover
    {
        color:                  var( --PC-BLUE );

        .icon
        {
            fill:               var( --PC-BLUE );
            color:              var( --PC-BLUE );
        }
    }

    &:focus
    {
        outline:                none;
    }

    .loadingOverlay
    {
        .spinner
        {
            border-color:           color( var( --PC-GREY ) a( 25% ) );

            &::after
            {
                border-top-color:   var( --PC-GREY );
            }
        }
    }
}


.loading,
.disabled
{
    cursor:         default;
    pointer-events: none;
}


.loading
{
    .label,
    .iconContainer
    {
        opacity:    0;
    }
}


.disabled
{
    background:     color( var( --PC-BLUE ) tint( 70% ) );
    color:          color( var( --PC-BLUE ) tint( 25% ) );

    .icon
    {
        fill:   color( var( --PC-BLUE ) tint( 25% ) );
        color:  color( var( --PC-BLUE ) tint( 25% ) );
    }

    box-shadow:     none;

    &.fakeHovered,
    &:hover,
    &.role__control
    {
        background:     transparent;
        color:          var( --GS-7 );

        .icon
        {
            fill:          var( --GS-7 );
            color:         var( --GS-7 );
        }
    }

    &:not(.role__control)
    {
        &.fakeHovered,
        &:hover
        {
            background:      var( --GS-7 ) !important;
        }
    }

    &.role__promoted
    {
        background:     color( var( --PC-GREEN ) tint( 70% ) );
        color:          color( var( --PC-GREEN ) tint( 25% ) );

        .icon
        {
            fill:   color( var( --PC-GREEN ) tint( 25% ) );
            color:  color( var( --PC-GREEN ) tint( 25% ) );
        }
    }

    &.role__critical
    {
        background:     color( var( --PC-RED ) tint( 70% ) );
        color:          color( var( --PC-RED ) tint( 25% ) );

        .icon
        {
            fill:   color( var( --PC-RED ) tint( 25% ) );
            color:  color( var( --PC-RED ) tint( 25% ) );
        }
    }
}

.loadingOverlay
{
    display:            flex;
    flex-direction:     row;
    justify-content:    center;
    align-items:        center;

    position:   absolute;

    top:        0;
    bottom:     0;

    left:       0;
    right:      0;

    width:      100%;
    height:     100%;

    .spinner
    {
        border-color:   color( var( --PC-WHITE ) a( 50% ) );

        &::after
        {

            border-top-color:   var( --PC-WHITE );
        }
    }
}
